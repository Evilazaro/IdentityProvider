# yaml-language-server: $schema=https://raw.githubusercontent.com/microsoft/winget-cli/refs/heads/master/schemas/JSON/configuration/configuration.schema.0.2.json

properties:
  configurationVersion: 0.2.0
  ########################################
  ### RESOURCES: System Configuration
  ########################################
  resources:
    - resource: PSDscResources/Script
      id: winget.update
      directives:
        description: Update Winget Packages
      settings:
        SetScript: |
          Set-ExecutionPolicy Unrestricted -Scope LocalMachine -Force
          $env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User") 
          winget upgrade --all  --include-unknown --silent --accept-package-agreements --accept-source-agreements
        GetScript: return $false
        TestScript: return $false